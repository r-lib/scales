<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Recommendations for colour palettes — palette-recommendations • scales</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Recommendations for colour palettes — palette-recommendations"><meta name="description" content="For the purposes of these recommendations, we define a palette as a function
that either takes an n argument for the number of desired output colours or
a value argument between 0-1 representing how far along a gradient output
colours should be. The palette then returns a number of colours equal to n
or length(x).
The convention in the scales package is to name functions that generate
palettes (palette factories) with the pal_-prefix. The benefit of
factories is that you can easily parameterise palettes, for example giving
options for how a palette should be constructed.
In the example below pal_aurora() is a palette factory parameterised by
a direction argument.
pal_aurora &amp;lt;- function(direction = 1) {
  colours &amp;lt;- c(&quot;palegreen&quot;, &quot;deepskyblue&quot;, &quot;magenta&quot;)
  if (sign(direction) == -1) {
    colours &amp;lt;- rev(colours)
  }
  pal_manual(colours, type = &quot;colour&quot;)
}

class(pal_aurora())
#&amp;gt; [1] &quot;pal_discrete&quot; &quot;scales_pal&quot;   &quot;function&quot;

It is recommended that a palette factory returns a function with either the
pal_discrete or pal_continuous class. If your factory constructs a
plain vector of colours, then pal_manual(type = &quot;colour&quot;) or
pal_gradient_n() are useful to return a classed palette for this common
use case.
When your inner palette function does not return a defined vector of colours,
it is recommended to use new_discrete_palette and new_continuous_palette
instead and supplement the additional type and na_safe/nlevels
properties. This should allow easy translation between discrete and
continuous palettes.
pal_random &amp;lt;- function() {
  fun &amp;lt;- function(n) {
    sample(colours(distinct = TRUE), size = n)
  }
  new_discrete_palette(fun, type = &quot;colour&quot;, nlevels = length(colours()))
}

If you don't have parameterised palettes, but also if you have palette
factories, it is encouraged to export an (inner) palette function or
plain colour vector. This is in addition to exporting the palette factory.
Exporting this makes it easy for users to specify for example
as_continuous_pal(mypackage::aurora).
#' @export
aurora &amp;lt;- pal_aurora()

# or:

#' @export
aurora &amp;lt;- c(&quot;palegreen&quot;, &quot;deepskyblue&quot;, &quot;magenta&quot;)

Lastly, for testing purposes we encourage that your palettes can be
interpreted both as discrete palette, but also a continuous palette.
To test for  this, you can test the output of as_discrete_pal() and
as_continuous_pal().
test_that(&quot;pal_aurora can be discrete or continuous&quot;, {

  my_pal &amp;lt;- pal_aurora()
  colours &amp;lt;- c(&quot;palegreen&quot;, &quot;deepskyblue&quot;, &quot;magenta&quot;)

  expect_equal(as_discrete_pal(my_pal)(3), colours)
  expect_equal(as_continuous_pal(my_pal)(c(0, 0.5, 1)), alpha(colours, NA))

})
"><meta property="og:description" content="For the purposes of these recommendations, we define a palette as a function
that either takes an n argument for the number of desired output colours or
a value argument between 0-1 representing how far along a gradient output
colours should be. The palette then returns a number of colours equal to n
or length(x).
The convention in the scales package is to name functions that generate
palettes (palette factories) with the pal_-prefix. The benefit of
factories is that you can easily parameterise palettes, for example giving
options for how a palette should be constructed.
In the example below pal_aurora() is a palette factory parameterised by
a direction argument.
pal_aurora &amp;lt;- function(direction = 1) {
  colours &amp;lt;- c(&quot;palegreen&quot;, &quot;deepskyblue&quot;, &quot;magenta&quot;)
  if (sign(direction) == -1) {
    colours &amp;lt;- rev(colours)
  }
  pal_manual(colours, type = &quot;colour&quot;)
}

class(pal_aurora())
#&amp;gt; [1] &quot;pal_discrete&quot; &quot;scales_pal&quot;   &quot;function&quot;

It is recommended that a palette factory returns a function with either the
pal_discrete or pal_continuous class. If your factory constructs a
plain vector of colours, then pal_manual(type = &quot;colour&quot;) or
pal_gradient_n() are useful to return a classed palette for this common
use case.
When your inner palette function does not return a defined vector of colours,
it is recommended to use new_discrete_palette and new_continuous_palette
instead and supplement the additional type and na_safe/nlevels
properties. This should allow easy translation between discrete and
continuous palettes.
pal_random &amp;lt;- function() {
  fun &amp;lt;- function(n) {
    sample(colours(distinct = TRUE), size = n)
  }
  new_discrete_palette(fun, type = &quot;colour&quot;, nlevels = length(colours()))
}

If you don't have parameterised palettes, but also if you have palette
factories, it is encouraged to export an (inner) palette function or
plain colour vector. This is in addition to exporting the palette factory.
Exporting this makes it easy for users to specify for example
as_continuous_pal(mypackage::aurora).
#' @export
aurora &amp;lt;- pal_aurora()

# or:

#' @export
aurora &amp;lt;- c(&quot;palegreen&quot;, &quot;deepskyblue&quot;, &quot;magenta&quot;)

Lastly, for testing purposes we encourage that your palettes can be
interpreted both as discrete palette, but also a continuous palette.
To test for  this, you can test the output of as_discrete_pal() and
as_continuous_pal().
test_that(&quot;pal_aurora can be discrete or continuous&quot;, {

  my_pal &amp;lt;- pal_aurora()
  colours &amp;lt;- c(&quot;palegreen&quot;, &quot;deepskyblue&quot;, &quot;magenta&quot;)

  expect_equal(as_discrete_pal(my_pal)(3), colours)
  expect_equal(as_continuous_pal(my_pal)(c(0, 0.5, 1)), alpha(colours, NA))

})
"><meta property="og:image" content="https://scales.r-lib.org/logo.svg"><meta name="robots" content="noindex"><script defer data-domain="scales.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">scales</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.3.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2023/11/scales-1-3-0/">Version 1.3.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2022/04/scales-1-2-0/">Version 1.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2019/11/scales-1-1-0/">Version 1.1.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2018/08/scales-1-0-0/">Version 1.0.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/scales/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Recommendations for colour palettes</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-lib/scales/blob/main/R/pal-.R" class="external-link"><code>R/pal-.R</code></a></small>
      <div class="d-none name"><code>palette-recommendations.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>For the purposes of these recommendations, we define a palette as a function
that either takes an <code>n</code> argument for the number of desired output colours or
a <code>value</code> argument between 0-1 representing how far along a gradient output
colours should be. The palette then returns a number of colours equal to <code>n</code>
or <code>length(x)</code>.</p>
<p>The convention in the scales package is to name functions that generate
palettes (palette factories) with the <code>pal_</code>-prefix. The benefit of
factories is that you can easily parameterise palettes, for example giving
options for how a palette should be constructed.</p>
<p>In the example below <code>pal_aurora()</code> is a palette factory parameterised by
a <code>direction</code> argument.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">pal_aurora</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">direction</span> <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">colours</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"palegreen"</span>, <span class="st">"deepskyblue"</span>, <span class="st">"magenta"</span><span class="op">)</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sign.html" class="external-link">sign</a></span><span class="op">(</span><span class="va">direction</span><span class="op">)</span> <span class="op">==</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">colours</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="va">colours</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="fu"><a href="../reference/pal_manual.html">pal_manual</a></span><span class="op">(</span><span class="va">colours</span>, type <span class="op">=</span> <span class="st">"colour"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="fu">pal_aurora</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "pal_discrete" "scales_pal"   "function"</span></span></code></pre><p></p></div>
<p>It is recommended that a palette factory returns a function with either the
<code>pal_discrete</code> or <code>pal_continuous</code> class. If your factory constructs a
plain vector of colours, then <code>pal_manual(type = "colour")</code> or
<code><a href="pal_gradient_n.html">pal_gradient_n()</a></code> are useful to return a classed palette for this common
use case.</p>
<p>When your inner palette function does not return a defined vector of colours,
it is recommended to use <code>new_discrete_palette</code> and <code>new_continuous_palette</code>
instead and supplement the additional <code>type</code> and <code>na_safe</code>/<code>nlevels</code>
properties. This should allow easy translation between discrete and
continuous palettes.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">pal_random</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">fun</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/grDevices/colors.html" class="external-link">colours</a></span><span class="op">(</span>distinct <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, size <span class="op">=</span> <span class="va">n</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="fu"><a href="../reference/new_continuous_palette.html">new_discrete_palette</a></span><span class="op">(</span><span class="va">fun</span>, type <span class="op">=</span> <span class="st">"colour"</span>, nlevels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/grDevices/colors.html" class="external-link">colours</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre><p></p></div>
<p>If you don't have parameterised palettes, but also if you have palette
factories, it is encouraged to export an (inner) palette function or
plain colour vector. This is in addition to exporting the palette factory.
Exporting this makes it easy for users to specify for example
<code>as_continuous_pal(mypackage::aurora)</code>.</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co">#' @export</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>aurora <span class="ot">&lt;-</span> <span class="fu">pal_aurora</span>()</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="co"># or:</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="co">#' @export</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>aurora <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"palegreen"</span>, <span class="st">"deepskyblue"</span>, <span class="st">"magenta"</span>)</span></code></pre><p></p></div>
<p>Lastly, for testing purposes we encourage that your palettes can be
interpreted both as discrete palette, but also a continuous palette.
To test for  this, you can test the output of <code><a href="new_continuous_palette.html">as_discrete_pal()</a></code> and
<code><a href="new_continuous_palette.html">as_continuous_pal()</a></code>.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="fu">test_that</span><span class="op">(</span><span class="st">"pal_aurora can be discrete or continuous"</span>, <span class="op">{</span></span>
<span></span>
<span>  <span class="va">my_pal</span> <span class="op">&lt;-</span> <span class="fu">pal_aurora</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="va">colours</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"palegreen"</span>, <span class="st">"deepskyblue"</span>, <span class="st">"magenta"</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu">expect_equal</span><span class="op">(</span><span class="fu"><a href="../reference/new_continuous_palette.html">as_discrete_pal</a></span><span class="op">(</span><span class="va">my_pal</span><span class="op">)</span><span class="op">(</span><span class="fl">3</span><span class="op">)</span>, <span class="va">colours</span><span class="op">)</span></span>
<span>  <span class="fu">expect_equal</span><span class="op">(</span><span class="fu"><a href="../reference/new_continuous_palette.html">as_continuous_pal</a></span><span class="op">(</span><span class="va">my_pal</span><span class="op">)</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.5</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="../reference/alpha.html">alpha</a></span><span class="op">(</span><span class="va">colours</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre><p></p></div>
    </div>


    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="new_continuous_palette.html">palette utilities</a></p></div>
    </div>

  </main></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://data-imaginist.com" class="external-link">Thomas Lin Pedersen</a>, Dana Seidel, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

  </div></footer></body></html>

